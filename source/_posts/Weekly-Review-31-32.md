---
title: Weekly Review(31, 32)
subtitle: 20190729-20190804, 20190805-20190811
date: 2019-08-18 17:30:37
tags:
category: ["Weekly Review"]
---

개인적으로 많은 일들이 있었던 한 2주였다. 공부 이외에의 것들에 신경을 많이 써야 했던 기간이었으며, 공부만큼 아니 그보다 중요한 것들에 집중했어야 하는 시기였다. 

그래서 안타깝게 두 주 동안 무언가 새로운 것을 찾아 공부를 하지 못했던 것 같다. 그래도 틈틈히 여러 자료들을 보며 시간을 보냈는데 그것들을 위주로 정리해보려 한다. 



### 두 주 동안 나는 무엇을 읽었을까? 📖

---

- [iOS: How to build a Table View with multiple cell types](https://medium.com/@stasost/ios-how-to-build-a-table-view-with-multiple-cell-types-2df91a206429)

  - 익숙했던 방식을 버리는 것은 쉽지 않다. iOS 개발 공부를 시작하면서 하나의 기능을 구현하는데 있어 새로운 방식을 익혀 사용해본 적은 많다. 하지만 그 과정은 항상 동일했다. 그 부분 중 하나가 바로 `cellForRowAt`이다. 

  - 매번 `section`과 `row`를 `if/else` 구문을 통해 비교하면서 해당하는 셀을 만들어주었다. 하지만 하나의 테이블 뷰에서 여러 타입의 커스텀 셀을 다루는 상황에선 썩 마음에 들지 않았다. 그래서 찾던 중 발견한 글로 꽤나 설득력있고 시도해볼만한 방법을 소개하고 있다. 

  - 기본적으로 `enum`을 사용하고 있다. `enum`을 사용하는 다른 글들과는 약간 다르게 프로토콜 내의 `enum` 변수를 사용한다. 

    ```swift
    protocol ProfileViewModelItem {
       var type: ProfileViewModelItemType { get }
       var rowCount: Int { get }
       var sectionTitle: String  { get }
    }
    ```

    서로 다른 유형의 셀들이지만 공통점을 프로토콜로 추상화한 것이다. 

  - 하지만 셀 내부에서 사용하는 시점을 살펴보면 모두 자신의 셀 뷰 모델 컨크리트 클래스로 형변환을 한다. 사실 역할을 추상화한 프로토콜 타입을 사용하는 객체에서 이를 컨크리트 타입으로 형변환해서 사용한 해본 경험은 없다. 컨크리트 타입으로 형변환한다는 것 자체가 해당 프로토콜 이외의 역할을 더 수행한다는 것을 의미하기 때문이다. 이렇게 하는 행위가 맞다, 틀리다를 말하고 싶은 것은 아니다. 내가 사용해왔던 방식과 차이가 있고 그 차이가 아직 와닿지 않을 뿐이다. 그래도 `cellForRowAt` 내부 코드는 확실히 간결해지고 주입해주는 쪽은 많은 것을 몰라도 된다는 장점이 생기는 것 같다. 

- [Architecting an Analytics layer](https://medium.com/ios-os-x-development/architecting-an-analytics-layer-7cdacb5f74af)

  - 지금까지 회사에서 굵직한 앱 개편을 위해 모든 개발자들이 하나의 큰 단위로 움직여 작업을 진행했다. 서버, 테블릿, 클라이언트. 어느정도 커다란 기능 및 앱 개편이 어느정도 마무리가 되어가면서 이제는 스쿼드 단위로 일을 진행하게 되었다. 
  - 그 중에서 내가 속한 스쿼드는 나에게는 다소 낯선 CDP 스쿼드로 사용자 행동 트래킹과 A/B 테스트를 진행하는 등 개인화 작업을 위한 스쿼드다. 그리고 본격적으로 작업에 들어가기 전 약간의 시간적 여유가 생겨 기존 애널리틱스 코드를 정리하고 필요한 부분을 개선하기 위해 여러 자료들을 찾아보았다. 
  - 자사 서비스에선 이러한 사용자 행동 분석이 굉장히 중요하기 때문에 단순 화면 이동, 버튼 클릭이만이 아닌 굉장히 상세한 단위까지 지표를 수집하고 있다. 그렇다보니 자연스레 관련 코드들은 복잡성이 올라가게 되었다. 한 곳으로 데이터가 모이지 않고 데이터가 이곳 저곳에 쌓이고 지표를 날리는 시점에 이렇게 분산되어 있는 데이터를 취합해서 보내게 되는데 사용해야 하는 데이터가 분산되어 있기 때문에 코드를 분석하는 과정도 쉽지가 않았다. 
  - 그래서 분산되어 있느 로직을 한 곳으로 모으기 위해 여러 글들을 읽고 이를 통해 리팩토링을 진행하고 있다. 

- [A Flexible Routing Approach in an iOS App](https://medium.com/rosberryapps/the-flexible-routing-approach-in-an-ios-app-eb4b05aa7f52)

  - 코디네이터 패턴에 대한 글을 몇 번 읽어보고 이를 바로 회사 코드에 접목시켜보려 했던 경험이 있다. 하지만 뭐든지 새로운 구조를 바로 큰 단위에 프로젝트에 적용시키는 것은 거의 불가능에 가깝다는 사실을 다시 한 번 깨닫게 되었다. 게다가 제대로 된 학습을 거치지 않고 말이다! 
  - 라우팅 관련 글들을 읽어보면 기초적이거나, 심화적인 글들만 존재했다. 기초적인 글들은 알고 있는 내용들을 반복하고 있었고, 심화된 내용들은 머리로는 이해를 하나 곧바로 기존 코드에 접목시키기 어려운 부분들이 있었다. 이 글은 중간보단 아래지만 한 단계 더 넘어서 생각해볼 수 있는 여지를 줄 수 있는 글이었다고 생각한다. 

  

### 정리하는 글 

---

두 주 동안 읽고 공부한 것들은 이보다는 많았던 것 같다. 늘 반성하듯이 하나의 글을 읽더라도 완벽히 저자가 전달하고자 하는 의도를 파악하고 내가 생각하던 방식과 비교를 하며 읽어야 하는데 인스턴스식으로 글을 읽다 보니 글을 읽는데 시간은 많이 들이지만 남는 것은 없게 되는 현상이 반복되곤 한다. 

이러한 습관 역시 조급함에서 온다고 생각한다. 보다 심적인 여유를 갖고 글 하나하나에 집중을 하며 읽을 필요가 있다고 생각한다.